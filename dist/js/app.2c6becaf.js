(function(){"use strict";var e={1732:function(e,t,n){n(1454),n(4979);var o=n(5130),r=n(6768);const l={class:"logo"};function a(e,t){const n=(0,r.g2)("router-link"),o=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("header",null,[(0,r.Lk)("div",l,[(0,r.bF)(n,{to:"/"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.Lk)("svg",{width:"180",height:"34",viewBox:"0 0 180 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,r.Lk)("g",{"clip-path":"url(#clip0_24_34)"},[(0,r.Lk)("path",{d:"M71.6517 11.5353V33.2647H65.7065L65.0466 31.7278C63.219 33.1692 60.9031 33.9998 58.3107 33.9998C51.482 33.9998 46.6019 29.1525 46.6019 22.3992C46.6019 15.6696 51.482 10.8793 58.3107 10.8793C60.94 10.8793 63.2883 11.7339 65.1326 13.215L65.9191 11.5342L71.6517 11.5353ZM64.3368 22.4171C64.3368 19.5964 62.2196 17.478 59.3378 17.478C56.44 17.478 54.3409 19.5964 54.3409 22.4171C54.3409 25.2546 56.4569 27.3724 59.3378 27.3724C62.2193 27.3727 64.3368 25.2546 64.3368 22.4171Z",fill:"white"}),(0,r.Lk)("path",{d:"M110.751 19.6591V33.2881H103.061V20.584C103.061 18.3149 102.203 17.2198 100.569 17.2198C98.4552 17.2198 97.3716 18.6361 97.3716 21.3729V33.2878H89.8804V20.584C89.8804 18.3832 89.0276 17.2198 87.4185 17.2198C85.3331 17.2198 84.19 18.6708 84.19 21.3729V33.2878H76.5001V11.5573H81.908L83.0026 13.8924C84.6167 12.0628 86.9585 10.916 89.5307 10.916C92.2528 10.916 94.5434 12.1054 95.9336 14.1138C97.5373 12.1488 100.01 10.916 102.79 10.916C107.573 10.916 110.751 14.5421 110.751 19.6591Z",fill:"white"}),(0,r.Lk)("path",{d:"M128.478 10.8795C135.353 10.8795 140.21 15.6857 140.21 22.4393C140.21 29.1932 135.353 33.9997 128.478 33.9997C125.872 33.9997 122.943 32.575 121.128 31.0997L121.017 33.2878H115.325V3.71149H122.929V12.378C124.528 11.4172 126.412 10.8795 128.478 10.8795ZM132.448 22.4393C132.448 19.6009 130.33 17.4837 127.449 17.4837C124.568 17.4837 122.45 19.6009 122.45 22.4393C122.45 25.2537 124.568 27.3723 127.449 27.3723C130.312 27.3723 132.448 25.254 132.448 22.4393Z",fill:"white"}),(0,r.Lk)("path",{d:"M151.426 11.5576H143.734V33.2878H151.426V11.5576Z",fill:"white"}),(0,r.Lk)("path",{d:"M154.963 22.4227C154.963 15.6871 160.201 10.8464 167.482 10.8464C174.738 10.8464 180 15.6871 180 22.4227C180 29.1358 174.738 33.9999 167.482 33.9999C160.201 33.9999 154.963 29.1358 154.963 22.4227ZM167.482 27.2764C170.286 27.2764 172.297 25.2955 172.297 22.4241C172.297 19.5678 170.286 17.5701 167.482 17.5701C164.677 17.5701 162.666 19.5502 162.666 22.4227C162.666 25.2955 164.677 27.2764 167.482 27.2764Z",fill:"white"}),(0,r.Lk)("path",{d:"M16.001 25.5724C14.8713 25.7391 13.8871 25.9448 12.8927 26.0146C11.8382 26.0895 11.0077 25.6178 10.9645 24.5271C10.884 22.4686 10.9413 20.4047 10.9413 18.2253C12.9102 18.2253 16.6728 18.2253 18.5667 18.2253C18.5667 15.746 18.6068 13.3875 18.6068 10.9105C16.6421 10.9105 12.8424 10.9105 10.8512 10.9105C10.8512 8.69639 10.8536 4.79883 10.8536 2.66108C7.89751 2.66976 6.8151 2.60639 2.91871 2.66398C2.85865 4.93572 2.977 8.78205 2.853 10.9759C1.80895 10.9759 0.936177 10.9759 0.000366211 10.9759C0.000366211 13.4202 0.000366211 15.7834 0.000366211 18.2817C0.882651 18.2817 1.70279 18.2817 2.61748 18.2817C2.61748 20.8365 2.53809 23.2604 2.63651 25.6774C2.76765 28.8914 3.89675 31.6224 7.24925 32.8657C10.6035 34.1092 13.937 33.6112 17.3029 32.5508C16.8616 30.1839 16.4399 27.9257 16.001 25.5724Z",fill:"#FFBE12"}),(0,r.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M45.34 11.0113C43.7316 13.2954 42.1317 15.7159 40.5257 17.994C39.8206 18.9948 39.1616 20.0322 38.3861 20.9783C37.7816 21.7156 37.7839 22.2125 38.4304 22.9759C41.0175 26.0227 43.513 29.1435 46.0385 32.2394C46.2074 32.4461 46.3507 32.6735 46.6499 33.0952C45.4866 33.0952 44.5071 33.0952 43.5264 33.0952C41.5551 33.0952 39.5803 33.1493 37.6135 33.0596C37.0711 33.035 36.389 32.7085 36.0461 32.3014C34.2613 30.1836 32.5667 27.994 30.8369 25.8323C30.6225 25.5643 30.3849 25.3134 30.1592 25.0538C30.0709 25.0842 29.9822 25.1137 29.8939 25.1432C29.8939 27.7515 29.8939 30.3595 29.8939 33.0304C27.157 33.0304 24.5184 33.0304 21.7848 33.0304C21.7848 22.0328 21.7848 13.7402 21.7848 2.66022C25.4373 2.66022 27.5691 2.66022 29.9106 2.66022C29.9106 8.81475 29.9106 12.2831 29.9106 18.4383C29.9983 18.4655 30.0866 18.4929 30.1749 18.5202C31.194 17.0492 35.1365 10.9618 35.1365 10.9618L45.34 11.0113Z",fill:"#FFBE12"}),(0,r.Lk)("path",{d:"M149.523 3.97019L153.663 0C153.663 0 156.154 2.77615 153.554 4.70873C152.182 5.65736 149.655 4.67371 149.691 4.25206C149.727 3.83042 149.523 3.97019 149.523 3.97019Z",fill:"#FFBE12"}),(0,r.Lk)("path",{d:"M149.802 3.73299C151.768 5.36256 153.854 4.4611 153.854 4.4611C153.854 4.4611 153.854 4.4611 150.351 8.00994C148.221 10.1538 145.622 7.97463 145.622 7.97463L143.563 6.04206L147.787 1.78363L149.802 3.73299Z",fill:"white"})]),(0,r.Lk)("defs",null,[(0,r.Lk)("clipPath",{id:"clip0_24_34"},[(0,r.Lk)("rect",{width:"180",height:"34",fill:"white"})])])],-1)]))),_:1})])]),(0,r.Lk)("main",null,[(0,r.bF)(o)])],64)}var i=n(1241);const c={},u=(0,i.A)(c,[["render",a]]);var s=u,p=n(1387),d=n(4373),v=n(144),f=n(4874),h=n.n(f);const C={class:"content"},k={class:"form-container login"},L={class:"input-container"},g={class:"input-container"},m={key:1,class:"loader"};var b={__name:"MyLogin",setup(e){const t=(0,v.KR)(!1),n=(0,v.KR)(null),l=(0,v.KR)(null),a=()=>{if(n.value&&l.value){t.value=!0;try{d.A.post("api/auth/login",{email:n.value,password:l.value}).then((e=>{t.value=!1,console.log(e),localStorage.setItem("token",e.data.access_token),localStorage.setItem("user",JSON.stringify(e.data.user)),window.location.reload()})).catch((e=>{t.value=!1,h().fire({title:"Error!",text:"Hubo un problema en el servidor. Intentalo nuevamente",icon:"error"}),console.log(e)}))}catch(e){console.log(e)}}else h().fire({title:"Error!",text:"Necesitas ingresar las credenciales",icon:"error"})};return(e,i)=>((0,r.uX)(),(0,r.CE)("div",C,[(0,r.Lk)("div",k,[i[4]||(i[4]=(0,r.Lk)("h1",null,"Login",-1)),i[5]||(i[5]=(0,r.Lk)("p",null,"Ingresa tus credenciales",-1)),(0,r.Lk)("div",L,[(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":i[0]||(i[0]=e=>n.value=e),placeholder:""},null,512),[[o.Jo,n.value]]),i[2]||(i[2]=(0,r.Lk)("label",{for:"email"},"Correo electrónico: ",-1))]),(0,r.Lk)("div",g,[(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":i[1]||(i[1]=e=>l.value=e),placeholder:""},null,512),[[o.Jo,l.value]]),i[3]||(i[3]=(0,r.Lk)("label",{for:"password"},"Contraseña:",-1))]),t.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,type:"button",onClick:a},"Login")),t.value?((0,r.uX)(),(0,r.CE)("span",m)):(0,r.Q3)("",!0)])]))}};const w=b;var y=w;function E(e,t){return(0,r.uX)(),(0,r.CE)("div",null,t[0]||(t[0]=[(0,r.Lk)("p",null,"NO EXISTE",-1)]))}const _={},x=(0,i.A)(_,[["render",E]]);var M=x,V=(n(4114),n(4232));const H={class:"container"},F={class:"content"},S={class:"table"},I={class:"record"},O={class:"title"},X={class:"created-at"},Z={class:"action"},R=["onClick"],K={key:0,class:"spacer"},A={key:1,class:"loader"};var j={__name:"MyHome",setup(e){const t=(0,v.KR)(!1),n=(0,v.KR)([]),o=()=>{try{t.value=!0,d.A.get("api/list-reports").then((e=>{t.value=!1,console.log(e),n.value=e.data.reports.data})).catch((e=>{t.value=!1,h().fire({title:"Error!",text:"Hubo un problema en el servidor. Intentalo nuevamente",icon:"error"}),console.log(e)}))}catch(e){console.log(e)}},l=e=>{try{d.A.get("api/get-report/"+e.id).then((e=>{window.open(e.data.url,"_blank")})).catch((e=>{h().fire({title:"Error!",text:"Hubo un problema en el servidor. Intentalo nuevamente",icon:"error"}),console.log(e)}))}catch(t){console.log(t)}};return(0,r.sV)((()=>{o()})),(e,o)=>((0,r.uX)(),(0,r.CE)("div",H,[o[5]||(o[5]=(0,r.Lk)("h1",null,"Generador de reportes TK",-1)),(0,r.Lk)("div",F,[(0,r.Lk)("div",S,[(0,r.Lk)("table",null,[o[4]||(o[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Título"),(0,r.Lk)("th",{class:"text-center"},"Fecha de creación"),(0,r.Lk)("th",{class:"text-end"},"Acción")]),(0,r.Lk)("tr",{class:"spacer"},[(0,r.Lk)("td",{colspan:"100"})])],-1)),(0,r.Lk)("tbody",null,[o[3]||(o[3]=(0,r.Lk)("tr",{class:"spacer"},[(0,r.Lk)("td",{colspan:"100"})],-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.value,((e,t)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:t},[(0,r.Lk)("tr",I,[(0,r.Lk)("td",O,(0,V.v_)(e.title),1),(0,r.Lk)("td",X,(0,V.v_)(e.created_at),1),(0,r.Lk)("td",Z,[(0,r.Lk)("a",{href:"#",onclick:"return false",onClick:t=>l(e)},o[1]||(o[1]=[(0,r.Fv)(' Descargar <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_13_33)"><path d="M15.8333 7.5H12.5V2.5H7.5V7.5H4.16667L10 13.3333L15.8333 7.5ZM9.16667 9.16667V4.16667H10.8333V9.16667H11.8083L10 10.975L8.19167 9.16667H9.16667ZM4.16667 15H15.8333V16.6667H4.16667V15Z" fill="white"></path></g><defs><clipPath id="clip0_13_33"><rect width="20" height="20" fill="white"></rect></clipPath></defs></svg>',2)]),8,R)])]),n.value.length!=t+1?((0,r.uX)(),(0,r.CE)("tr",K,o[2]||(o[2]=[(0,r.Lk)("td",{colspan:"100"},[(0,r.Lk)("div")],-1)]))):(0,r.Q3)("",!0)],64)))),128))])])]),t.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,class:"create-report-btn",onClick:o[0]||(o[0]=t=>e.$router.push({name:"report"}))},"Crear reporte")),t.value?((0,r.uX)(),(0,r.CE)("span",A)):(0,r.Q3)("",!0)])]))}};const T=j;var N=T;const P={class:"content"},J={class:"form-container"},Q={class:"input-container"},U={class:"form-group"},B={class:"date-group"},D={class:"input-container"},G={class:"input-container"},q={key:1,class:"loader"};var z={__name:"MyReport",setup(e){const t=(0,p.rd)(),n=(0,v.KR)(!1),l=(0,v.KR)(null),a=(0,v.KR)(null),i=(0,v.KR)(null),c=()=>{if(l.value)if(a.value)if(i.value){n.value=!0;try{d.A.post("api/generate-report",{title:l.value,start_date:a.value,end_date:i.value}).then((e=>{console.log(e),h().fire({title:"Genial",text:"Se registro el reporte",icon:"success"}),setTimeout((()=>{t.push({name:"home"}),n.value=!1}),1500)})).catch((e=>{n.value=!1,h().fire({title:"Error!",text:"Hubo un problema en el servidor. Intentalo nuevamente",icon:"error"}),console.log(e)}))}catch(e){console.log(e)}}else h().fire({title:"Error!",text:"Necesitas seleccionar una fecha de fin",icon:"error"});else h().fire({title:"Error!",text:"Necesitas seleccionar una fecha de inicio",icon:"error"});else h().fire({title:"Error!",text:"Necesitas ingresar la descripción del reporte",icon:"error"})};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",P,[(0,r.Lk)("div",J,[t[8]||(t[8]=(0,r.Lk)("h1",null,"Reporte por fecha de nacimiento",-1)),t[9]||(t[9]=(0,r.Lk)("p",null,"Ingresa los siguientes datos para generar tu reporte",-1)),(0,r.Lk)("div",Q,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),id:"description",placeholder:""},null,512),[[o.Jo,l.value]]),t[3]||(t[3]=(0,r.Lk)("label",{for:"description"},"Descripción del reporte",-1))]),(0,r.Lk)("div",U,[t[7]||(t[7]=(0,r.Lk)("p",null,"Fecha de nacimiento",-1)),(0,r.Lk)("div",B,[(0,r.Lk)("div",D,[t[4]||(t[4]=(0,r.Lk)("label",{for:"start"},"Inicio",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),min:"1980-01-01",max:"2010-12-31",id:"start-date"},null,512),[[o.Jo,a.value]]),t[5]||(t[5]=(0,r.Lk)("div",{class:"date-placeholder",id:"date-placeholder"},"Selecciona una fecha",-1))]),(0,r.Lk)("div",G,[t[6]||(t[6]=(0,r.Lk)("label",{for:"end"},"Fin",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),min:"1980-01-01",max:"2010-12-31",id:"end-date"},null,512),[[o.Jo,i.value]])])])]),n.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,type:"button",onClick:c},"Generar reporte")),n.value?((0,r.uX)(),(0,r.CE)("span",q)):(0,r.Q3)("",!0)])]))}};const $=z;var W=$;const Y=[{path:"/reports",name:"home",component:N},{path:"/login",name:"login",component:y},{path:"/register-report",name:"report",component:W},{path:"/",redirect:"/reports"},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>M}],ee=(0,p.aE)({history:(0,p.LA)(),routes:Y});ee.beforeEach(((e,t,n)=>{const o=localStorage.getItem("token");o||"login"===e.name?o&&"login"===e.name?n({name:"home"}):n():n({name:"login"})}));var te=ee;function ne(e){try{const t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(o)}catch(t){return null}}function oe(e){const t=ne(e);if(!t||!t.exp)return!0;const n=Math.floor(Date.now()/1e3);return t.exp<n}d.A.defaults.baseURL="http://tkambio-api.laravest.com/",d.A.interceptors.request.use((function(e){const t=localStorage.getItem("token");return oe(t)&&"/login"!=te.currentRoute.value.fullPath&&(localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout((()=>{window.location.reload()}),50)),e.headers["Authorization"]="Bearer "+t,e})),(0,o.Ef)(s).use(te).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,l){if(!o){var a=1/0;for(s=0;s<e.length;s++){o=e[s][0],r=e[s][1],l=e[s][2];for(var i=!0,c=0;c<o.length;c++)(!1&l||a>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(i=!1,l<a&&(a=l));if(i){e.splice(s--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[o,r,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,l,a=o[0],i=o[1],c=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(c)var s=c(n)}for(t&&t(o);u<a.length;u++)l=a[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(s)},o=self["webpackChunkfronted_full_stack"]=self["webpackChunkfronted_full_stack"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(1732)}));o=n.O(o)})();
//# sourceMappingURL=app.2c6becaf.js.map